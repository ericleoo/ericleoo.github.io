<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../favicon.png" />
		<meta name="viewport" content="width=device-width" />
		<meta http-equiv="content-security-policy" content="">
		<link rel="modulepreload" href="../_app/immutable/start-e2448ca4.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index-1c54e198.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons-247c70db.js">
		<link rel="modulepreload" href="../_app/immutable/components/layout.svelte-987c304f.js">
		<link rel="modulepreload" href="../_app/immutable/modules/pages/_layout.js-7b9cbfbc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout-8d2a742b.js">
		<link rel="modulepreload" href="../_app/immutable/components/pages/posts/_slug_/_page.svelte-6f839257.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/head-a5cfd1c5.js"><title>Post | Make a Sitemap with Sveltekit</title><!-- HEAD_svelte-enfip_START --><link rel="canonical"><meta name="description"><meta name="author" content="Eric"><meta itemprop="name" content="Post | Make a Sitemap with Sveltekit"><meta itemprop="description"><meta itemprop="image"><meta property="og:url"><meta property="og:type" content="website"><meta property="og:title" content="Post | Make a Sitemap with Sveltekit"><meta property="og:description"><meta property="og:image"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:domain" content="https://ericleoo.github.io"><meta property="twitter:url"><meta name="twitter:title" content="Post | Make a Sitemap with Sveltekit"><meta name="twitter:description"><meta name="twitter:image"><meta name="monetization" content="$ilp.uphold.com/bzPBWkMBzLmN"><!-- HEAD_svelte-enfip_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">




<article class="flex flex-col flex-grow"><h1 class="font-bold mb-5 text-5xl">Make a Sitemap with Sveltekit</h1>
  <div class=""><p>Sat Aug 21 2021</p>
    <article class="all-prose"><!-- HTML_TAG_START --><p>If you want to rank on Google (and other search engines) you need to
be able to tell the world what your site consists of. A sitemap is
used by the Googlebot, BingBot, DuckDuckBot and other search engines
to tell them what pages are available.</p>
<p>This guide will take a lot of the learnings from the post I wrote on
<a href="https://scottspence.com/posts/make-an-rss-feed-with-sveltekit" rel="noopener" target="_blank">Making an RSS Feed for your SvelteKit Project</a> and expand on it for
use as a sitemap.</p>
<p>So as with the RSS post I’ll be using Matt Jennings’ awesome
<a href="https://github.com/mattjennings/sveltekit-blog-template" rel="noopener" target="_blank">SvelteKit blog template</a> for this example.</p>
<p>If you haven’t seen the last guide that’s fine I’ll include a lot of
the steps in here so there’s no need to cross reference.</p>
<h2>Sitemap route</h2>
<p>If you haven’t done so already and want to follow along then clone the
repo and install the dependencies and spin up the dev server, the
default port is <code>3000</code>:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token comment"># using SSH</span>
<span class="token function">git</span> clone git@github.com:mattjennings/sveltekit-blog-template
<span class="token comment"># using HTTPS</span>
<span class="token function">git</span> clone https://github.com/mattjennings/sveltekit-blog-template
<span class="token builtin class-name">cd</span> sveltekit-blog-template
<span class="token function">npm</span> i
<span class="token function">npm</span> run dev</code><!-- HTML_TAG_END --></pre>
<p>If I open up Matt’s SvelteKit blog template in VS Code this is how it
is structured:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash">sveltekit-blog-template/
├─ posts/
│ └─ getting-started/
│   └─ index.md
├─ src/
│ └─ lib/
│ └─ routes/
│ │ └─ posts/
│ │   └─ <span class="token punctuation">[</span>slug<span class="token punctuation">]</span>.svelte/
│ │─ __layout.svelte/
│ └─ index.svelte/
<span class="token punctuation">..</span>.rest of the files</code><!-- HTML_TAG_END --></pre>
<p>Currently it’s an index page and a posts directory, the index page is
the site homepage and the posts directory will take a slug that’s
passed to the <code>[slug].svelte</code> file (example <code>getting-started</code>) and
turn that into <code>localhost:3000/posts/getting-started</code>.</p>
<p>A sitemap is generally located at the root level of a site, so in the
case of my site it’s <code>https://scottspence.com/sitemap.xml</code>.</p>
<p>I’ll create the sitemap file as <code>sitemap.xml.js</code> in <a href="https://kit.svelte.dev/docs#routing-endpoints" rel="noopener" target="_blank">SvelteKit
endpoints</a> you can define the type of data you want to return, in this
case it’s XML.</p>
<p>I’ll create the sitemap file via the terminal:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token function">touch</span> src/routes/sitemap.xml.js</code><!-- HTML_TAG_END --></pre>
<p>If I go to <code>localhost:3000/sitemap.xml</code> I get a 404.</p>
<p>Now I need to create a <code>get()</code> function to return the sitemap XML and
headers for the endpoint.</p>
<p>For now I’ll put in some XML headings for the body, I’ll move the XML
out into it’s own function later, for now this is just to get a bit of
visual feedback:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">'Cache-Control'</span><span class="token operator">:</span> <span class="token string">'max-age=0, s-maxage=3600'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/xml'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    headers<span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">&lt;?xml version="1.0" encoding="UTF-8" ?>
    &lt;urlset
      xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
      xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
      xmlns:xhtml="https://www.w3.org/1999/xhtml"
      xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
      xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
      xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
    >&lt;/urlset></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>Going to <code>localhost:3000/sitemap.xml</code> now a get the beginnings of my
sitemap XML feed.</p>
<p>In the <code>headers</code> I’m setting the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control#expiration" rel="noopener" target="_blank">expiration</a> to an hour with
<code>s-maxage</code> and for the <code>body</code> adding in the XML heading. You can check
out the <a href="https://validator.w3.org/feed/docs/rss2.html" rel="noopener" target="_blank">W3C Feed Validation Service</a> for more detail on what’s needed
here.</p>
<p>The schemas (<code>xmlns:news</code> etc) are used to tell the search engines
what type of data you’re returning. I’ve used <a href="https://www.joshwcomeau.com/sitemap.xml" rel="noopener" target="_blank">Josh Comeau’s sitemap</a>
as an example here. You can check out Sitemaps XML format over on
<a href="https://www.sitemaps.org/protocol.html" rel="noopener" target="_blank">sitemaps.org</a> for more information.</p>
<p>Now if I go check <code>localhost:3000/rss.xml</code> I get the beginning of my
RSS feed.</p>
<h2>Hardcoding pages into the sitemap</h2>
<p>First up I’ll tackle the first url which isn’t going to change, the
site URL.</p>
<p>In Matt’s template there’s an <code>info.js</code> file that contains the project
<code>name</code> and <code>website</code> links. I’ll import the <code>website</code> and use that.</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> website <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'$lib/info'</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">'Cache-Control'</span><span class="token operator">:</span> <span class="token string">'max-age=0, s-maxage=3600'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/xml'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    headers<span class="token punctuation">,</span>
    <span class="token literal-property property">body</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">&lt;?xml version="1.0" encoding="UTF-8" ?>
    &lt;urlset
      xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
      xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
      xmlns:xhtml="https://www.w3.org/1999/xhtml"
      xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
      xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
      xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
    >
      &lt;url>
        &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
        &lt;changefreq>daily&lt;/changefreq>
        &lt;priority>0.7&lt;/priority>
      &lt;/url>
    &lt;/urlset></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>That was straightforward enough, right? That’s only one page though so
the Googlebot isn’t going to be doing much with that.</p>
<h2>Adding posts to sitemap</h2>
<p>Because the posts routes are dynamically generated I’ll need to create
a little helper function for the posts, I’ll use a trimmed down
version of what Matt uses in the homepage (<code>src/routes/index.js</code>) to
get the posts.</p>
<p>I’ll create a <code>get-posts.js</code> in the <code>lib</code> directory of the project:</p>
<pre class="language-bash"><!-- HTML_TAG_START --><code class="language-bash"><span class="token comment"># create the file</span>
<span class="token function">touch</span> src/lib/get-posts.js</code><!-- HTML_TAG_END --></pre>
<p>Here’s what the function for <code>getPosts</code> looks like:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>
    <span class="token keyword">import</span><span class="token punctuation">.</span>meta<span class="token punctuation">.</span><span class="token function">globEager</span><span class="token punctuation">(</span><span class="token string">'/posts/**/*.md'</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
    <span class="token comment">// get post metadata</span>
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">[</span><span class="token punctuation">,</span> post<span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> post<span class="token punctuation">.</span>metadata<span class="token punctuation">)</span>
    <span class="token comment">// sort by date</span>
    <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>date <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>date <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

  <span class="token keyword">return</span> posts
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre>
<p>I can now import that into the <code>sitemap.xml.js</code> file so I can map over
the posts returned from the <code>getPosts</code> function inside the XML markup
using tags <code>${}</code>.</p>
<p>Before I do that though I’ll move the markup out into a function so
it’s not cluttering up the return of the <code>get()</code> function.</p>
<p>I can pass the <code>posts</code> from the <code>getPosts()</code> function into this, then
I can map over each post and render out the markup for each one:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">sitemap</span> <span class="token operator">=</span> <span class="token parameter">posts</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">&lt;?xml version="1.0" encoding="UTF-8" ?>
&lt;urlset
  xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
  xmlns:xhtml="https://www.w3.org/1999/xhtml"
  xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
  xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
  xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
>
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>posts
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span>
      post<span class="token punctuation">.</span>isPrivate
        <span class="token operator">?</span> <span class="token keyword">null</span>
        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>post<span class="token punctuation">.</span>slug<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token template-punctuation string">&#96;</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
&lt;/urlset></span><span class="token template-punctuation string">&#96;</span></span></code><!-- HTML_TAG_END --></pre>
<p>Now in the get function I’ll pass the <code>posts</code> from the <code>getPosts()</code>
into the <code>sitemap</code> function and use that for the body return of
<code>getPosts()</code>.</p>
<p>Here’s the full file:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getPosts <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'$lib/get-posts'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> website <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'$lib/info'</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token function">sitemap</span><span class="token punctuation">(</span>posts<span class="token punctuation">)</span>

  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">'Cache-Control'</span><span class="token operator">:</span> <span class="token string">'max-age=0, s-maxage=3600'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/xml'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    headers<span class="token punctuation">,</span>
    body<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> <span class="token function-variable function">sitemap</span> <span class="token operator">=</span> <span class="token parameter">posts</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">&lt;?xml version="1.0" encoding="UTF-8" ?>
&lt;urlset
  xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
  xmlns:xhtml="https://www.w3.org/1999/xhtml"
  xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
  xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
  xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
>
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>posts
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span>
      post<span class="token punctuation">.</span>isPrivate
        <span class="token operator">?</span> <span class="token keyword">null</span>
        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>post<span class="token punctuation">.</span>slug<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token template-punctuation string">&#96;</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
&lt;/urlset></span><span class="token template-punctuation string">&#96;</span></span></code><!-- HTML_TAG_END --></pre>
<h2>Next steps from here</h2>
<p>There’s some aspects of this project that wont change very often, like
the routes for the homepage, about page etc. I could hardcode these
into the XML directly.</p>
<p>But rather than doing that I can add the pages to an array variable so
that I can add any new pages that exist in the <code>src/routes</code> to it.</p>
<p>I can add any new pages to the array rather than creating a new
<code>&lt;url&gt;</code> element for each new page that’s added. Here’s an example of
how that may look:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> getPosts <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'$lib/get-posts'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> website <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'$lib/info'</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">about</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">newsletter</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">privacy-policy</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">]</span>
  <span class="token keyword">const</span> body <span class="token operator">=</span> <span class="token function">sitemap</span><span class="token punctuation">(</span>posts<span class="token punctuation">,</span> pages<span class="token punctuation">)</span>

  <span class="token keyword">const</span> headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token string-property property">'Cache-Control'</span><span class="token operator">:</span> <span class="token string">'max-age=0, s-maxage=3600'</span><span class="token punctuation">,</span>
    <span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/xml'</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
    headers<span class="token punctuation">,</span>
    body<span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> <span class="token function-variable function">sitemap</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token parameter">posts<span class="token punctuation">,</span>
  pages</span>
<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">&lt;?xml version="1.0" encoding="UTF-8" ?>
&lt;urlset
  xmlns="https://www.sitemaps.org/schemas/sitemap/0.9"
  xmlns:news="https://www.google.com/schemas/sitemap-news/0.9"
  xmlns:xhtml="https://www.w3.org/1999/xhtml"
  xmlns:mobile="https://www.google.com/schemas/sitemap-mobile/1.0"
  xmlns:image="https://www.google.com/schemas/sitemap-image/1.1"
  xmlns:video="https://www.google.com/schemas/sitemap-video/1.1"
>
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>pages
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>
      <span class="token parameter">page</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>page<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token template-punctuation string">&#96;</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
  </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>posts
    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">post</span> <span class="token operator">=></span>
      post<span class="token punctuation">.</span>isPrivate
        <span class="token operator">?</span> <span class="token keyword">null</span>
        <span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">
  &lt;url>
    &lt;loc></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>website<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">/posts/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>post<span class="token punctuation">.</span>slug<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">&lt;/loc>
    &lt;changefreq>daily&lt;/changefreq>
    &lt;priority>0.7&lt;/priority>
  &lt;/url>
  </span><span class="token template-punctuation string">&#96;</span></span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">
&lt;/urlset></span><span class="token template-punctuation string">&#96;</span></span></code><!-- HTML_TAG_END --></pre>
<h2>Conclusion</h2>
<p>Alright, I’ve gone through and created a sitemap that contains all the
pages on the project.</p>
<p>I hope this has given you enough information to get started with
making your own sitemap on your SvelteKit projects.</p>
<!-- HTML_TAG_END --></article></div></article>


		<script type="module" data-sveltekit-hydrate="kya03x">
			import { start } from "../_app/immutable/start-e2448ca4.js";

			start({
				env: {},
				hydrate: {
					status: 200,
					error: null,
					node_ids: [0, 3],
					params: {slug:"make-a-sitemap-with-sveltekit"},
					route: {"id":"/posts/[slug]"},
					data: [null,{type:"data",data:{html:"\u003Cp\u003EIf you want to rank on Google (and other search engines) you need to\nbe able to tell the world what your site consists of. A sitemap is\nused by the Googlebot, BingBot, DuckDuckBot and other search engines\nto tell them what pages are available.\u003C\u002Fp\u003E\n\u003Cp\u003EThis guide will take a lot of the learnings from the post I wrote on\n\u003Ca href=\"https:\u002F\u002Fscottspence.com\u002Fposts\u002Fmake-an-rss-feed-with-sveltekit\" rel=\"noopener\" target=\"_blank\"\u003EMaking an RSS Feed for your SvelteKit Project\u003C\u002Fa\u003E and expand on it for\nuse as a sitemap.\u003C\u002Fp\u003E\n\u003Cp\u003ESo as with the RSS post I’ll be using Matt Jennings’ awesome\n\u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmattjennings\u002Fsveltekit-blog-template\" rel=\"noopener\" target=\"_blank\"\u003ESvelteKit blog template\u003C\u002Fa\u003E for this example.\u003C\u002Fp\u003E\n\u003Cp\u003EIf you haven’t seen the last guide that’s fine I’ll include a lot of\nthe steps in here so there’s no need to cross reference.\u003C\u002Fp\u003E\n\u003Ch2\u003ESitemap route\u003C\u002Fh2\u003E\n\u003Cp\u003EIf you haven’t done so already and want to follow along then clone the\nrepo and install the dependencies and spin up the dev server, the\ndefault port is \u003Ccode\u003E3000\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token comment\"\u003E# using SSH\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Egit\u003C\u002Fspan\u003E clone git@github.com:mattjennings\u002Fsveltekit-blog-template\n\u003Cspan class=\"token comment\"\u003E# using HTTPS\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Egit\u003C\u002Fspan\u003E clone https:\u002F\u002Fgithub.com\u002Fmattjennings\u002Fsveltekit-blog-template\n\u003Cspan class=\"token builtin class-name\"\u003Ecd\u003C\u002Fspan\u003E sveltekit-blog-template\n\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E i\n\u003Cspan class=\"token function\"\u003Enpm\u003C\u002Fspan\u003E run dev\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf I open up Matt’s SvelteKit blog template in VS Code this is how it\nis structured:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003Esveltekit-blog-template\u002F\n├─ posts\u002F\n│ └─ getting-started\u002F\n│   └─ index.md\n├─ src\u002F\n│ └─ lib\u002F\n│ └─ routes\u002F\n│ │ └─ posts\u002F\n│ │   └─ \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003Eslug\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E.svelte\u002F\n│ │─ __layout.svelte\u002F\n│ └─ index.svelte\u002F\n\u003Cspan class=\"token punctuation\"\u003E..\u003C\u002Fspan\u003E.rest of the files\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ECurrently it’s an index page and a posts directory, the index page is\nthe site homepage and the posts directory will take a slug that’s\npassed to the \u003Ccode\u003E[slug].svelte\u003C\u002Fcode\u003E file (example \u003Ccode\u003Egetting-started\u003C\u002Fcode\u003E) and\nturn that into \u003Ccode\u003Elocalhost:3000\u002Fposts\u002Fgetting-started\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EA sitemap is generally located at the root level of a site, so in the\ncase of my site it’s \u003Ccode\u003Ehttps:\u002F\u002Fscottspence.com\u002Fsitemap.xml\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EI’ll create the sitemap file as \u003Ccode\u003Esitemap.xml.js\u003C\u002Fcode\u003E in \u003Ca href=\"https:\u002F\u002Fkit.svelte.dev\u002Fdocs#routing-endpoints\" rel=\"noopener\" target=\"_blank\"\u003ESvelteKit\nendpoints\u003C\u002Fa\u003E you can define the type of data you want to return, in this\ncase it’s XML.\u003C\u002Fp\u003E\n\u003Cp\u003EI’ll create the sitemap file via the terminal:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token function\"\u003Etouch\u003C\u002Fspan\u003E src\u002Froutes\u002Fsitemap.xml.js\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EIf I go to \u003Ccode\u003Elocalhost:3000\u002Fsitemap.xml\u003C\u002Fcode\u003E I get a 404.\u003C\u002Fp\u003E\n\u003Cp\u003ENow I need to create a \u003Ccode\u003Eget()\u003C\u002Fcode\u003E function to return the sitemap XML and\nheaders for the endpoint.\u003C\u002Fp\u003E\n\u003Cp\u003EFor now I’ll put in some XML headings for the body, I’ll move the XML\nout into it’s own function later, for now this is just to get a bit of\nvisual feedback:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E headers \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Cache-Control'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'max-age=0, s-maxage=3600'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Content-Type'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'application\u002Fxml'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    headers\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token literal-property property\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003E\n    &lt;urlset\n      xmlns=\"https:\u002F\u002Fwww.sitemaps.org\u002Fschemas\u002Fsitemap\u002F0.9\"\n      xmlns:news=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-news\u002F0.9\"\n      xmlns:xhtml=\"https:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\n      xmlns:mobile=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-mobile\u002F1.0\"\n      xmlns:image=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-image\u002F1.1\"\n      xmlns:video=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-video\u002F1.1\"\n    \u003E&lt;\u002Furlset\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EGoing to \u003Ccode\u003Elocalhost:3000\u002Fsitemap.xml\u003C\u002Fcode\u003E now a get the beginnings of my\nsitemap XML feed.\u003C\u002Fp\u003E\n\u003Cp\u003EIn the \u003Ccode\u003Eheaders\u003C\u002Fcode\u003E I’m setting the \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FHTTP\u002FHeaders\u002FCache-Control#expiration\" rel=\"noopener\" target=\"_blank\"\u003Eexpiration\u003C\u002Fa\u003E to an hour with\n\u003Ccode\u003Es-maxage\u003C\u002Fcode\u003E and for the \u003Ccode\u003Ebody\u003C\u002Fcode\u003E adding in the XML heading. You can check\nout the \u003Ca href=\"https:\u002F\u002Fvalidator.w3.org\u002Ffeed\u002Fdocs\u002Frss2.html\" rel=\"noopener\" target=\"_blank\"\u003EW3C Feed Validation Service\u003C\u002Fa\u003E for more detail on what’s needed\nhere.\u003C\u002Fp\u003E\n\u003Cp\u003EThe schemas (\u003Ccode\u003Exmlns:news\u003C\u002Fcode\u003E etc) are used to tell the search engines\nwhat type of data you’re returning. I’ve used \u003Ca href=\"https:\u002F\u002Fwww.joshwcomeau.com\u002Fsitemap.xml\" rel=\"noopener\" target=\"_blank\"\u003EJosh Comeau’s sitemap\u003C\u002Fa\u003E\nas an example here. You can check out Sitemaps XML format over on\n\u003Ca href=\"https:\u002F\u002Fwww.sitemaps.org\u002Fprotocol.html\" rel=\"noopener\" target=\"_blank\"\u003Esitemaps.org\u003C\u002Fa\u003E for more information.\u003C\u002Fp\u003E\n\u003Cp\u003ENow if I go check \u003Ccode\u003Elocalhost:3000\u002Frss.xml\u003C\u002Fcode\u003E I get the beginning of my\nRSS feed.\u003C\u002Fp\u003E\n\u003Ch2\u003EHardcoding pages into the sitemap\u003C\u002Fh2\u003E\n\u003Cp\u003EFirst up I’ll tackle the first url which isn’t going to change, the\nsite URL.\u003C\u002Fp\u003E\n\u003Cp\u003EIn Matt’s template there’s an \u003Ccode\u003Einfo.js\u003C\u002Fcode\u003E file that contains the project\n\u003Ccode\u003Ename\u003C\u002Fcode\u003E and \u003Ccode\u003Ewebsite\u003C\u002Fcode\u003E links. I’ll import the \u003Ccode\u003Ewebsite\u003C\u002Fcode\u003E and use that.\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E website \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'$lib\u002Finfo'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E headers \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Cache-Control'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'max-age=0, s-maxage=3600'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Content-Type'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'application\u002Fxml'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    headers\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token literal-property property\"\u003Ebody\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003E\n    &lt;urlset\n      xmlns=\"https:\u002F\u002Fwww.sitemaps.org\u002Fschemas\u002Fsitemap\u002F0.9\"\n      xmlns:news=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-news\u002F0.9\"\n      xmlns:xhtml=\"https:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\n      xmlns:mobile=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-mobile\u002F1.0\"\n      xmlns:image=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-image\u002F1.1\"\n      xmlns:video=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-video\u002F1.1\"\n    \u003E\n      &lt;url\u003E\n        &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n        &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n        &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n      &lt;\u002Furl\u003E\n    &lt;\u002Furlset\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EThat was straightforward enough, right? That’s only one page though so\nthe Googlebot isn’t going to be doing much with that.\u003C\u002Fp\u003E\n\u003Ch2\u003EAdding posts to sitemap\u003C\u002Fh2\u003E\n\u003Cp\u003EBecause the posts routes are dynamically generated I’ll need to create\na little helper function for the posts, I’ll use a trimmed down\nversion of what Matt uses in the homepage (\u003Ccode\u003Esrc\u002Froutes\u002Findex.js\u003C\u002Fcode\u003E) to\nget the posts.\u003C\u002Fp\u003E\n\u003Cp\u003EI’ll create a \u003Ccode\u003Eget-posts.js\u003C\u002Fcode\u003E in the \u003Ccode\u003Elib\u003C\u002Fcode\u003E directory of the project:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-bash\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-bash\"\u003E\u003Cspan class=\"token comment\"\u003E# create the file\u003C\u002Fspan\u003E\n\u003Cspan class=\"token function\"\u003Etouch\u003C\u002Fspan\u003E src\u002Flib\u002Fget-posts.js\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EHere’s what the function for \u003Ccode\u003EgetPosts\u003C\u002Fcode\u003E looks like:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EgetPosts\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E Object\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Eentries\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Emeta\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003EglobEager\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'\u002Fposts\u002F**\u002F*.md'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token comment\"\u003E\u002F\u002F get post metadata\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003E\u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Emetadata\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token comment\"\u003E\u002F\u002F sort by date\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Esort\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Ea\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E b\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Ea\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Edate \u003Cspan class=\"token operator\"\u003E&lt;\u003C\u002Fspan\u003E b\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Edate \u003Cspan class=\"token operator\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E-\u003C\u002Fspan\u003E\u003Cspan class=\"token number\"\u003E1\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E posts\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EI can now import that into the \u003Ccode\u003Esitemap.xml.js\u003C\u002Fcode\u003E file so I can map over\nthe posts returned from the \u003Ccode\u003EgetPosts\u003C\u002Fcode\u003E function inside the XML markup\nusing tags \u003Ccode\u003E${}\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EBefore I do that though I’ll move the markup out into a function so\nit’s not cluttering up the return of the \u003Ccode\u003Eget()\u003C\u002Fcode\u003E function.\u003C\u002Fp\u003E\n\u003Cp\u003EI can pass the \u003Ccode\u003Eposts\u003C\u002Fcode\u003E from the \u003Ccode\u003EgetPosts()\u003C\u002Fcode\u003E function into this, then\nI can map over each post and render out the markup for each one:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token function-variable function\"\u003Esitemap\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token parameter\"\u003Eposts\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003E\n&lt;urlset\n  xmlns=\"https:\u002F\u002Fwww.sitemaps.org\u002Fschemas\u002Fsitemap\u002F0.9\"\n  xmlns:news=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-news\u002F0.9\"\n  xmlns:xhtml=\"https:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\n  xmlns:mobile=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-mobile\u002F1.0\"\n  xmlns:image=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-image\u002F1.1\"\n  xmlns:video=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-video\u002F1.1\"\n\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Eposts\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Epost\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E\n      post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EisPrivate\n        \u003Cspan class=\"token operator\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enull\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\u002Fposts\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Epost\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eslug\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n&lt;\u002Furlset\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003ENow in the get function I’ll pass the \u003Ccode\u003Eposts\u003C\u002Fcode\u003E from the \u003Ccode\u003EgetPosts()\u003C\u002Fcode\u003E\ninto the \u003Ccode\u003Esitemap\u003C\u002Fcode\u003E function and use that for the body return of\n\u003Ccode\u003EgetPosts()\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EHere’s the full file:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E getPosts \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'$lib\u002Fget-posts'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E website \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'$lib\u002Finfo'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EgetPosts\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E body \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Esitemap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eposts\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E headers \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Cache-Control'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'max-age=0, s-maxage=3600'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Content-Type'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'application\u002Fxml'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    headers\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    body\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token function-variable function\"\u003Esitemap\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token parameter\"\u003Eposts\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003E\n&lt;urlset\n  xmlns=\"https:\u002F\u002Fwww.sitemaps.org\u002Fschemas\u002Fsitemap\u002F0.9\"\n  xmlns:news=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-news\u002F0.9\"\n  xmlns:xhtml=\"https:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\n  xmlns:mobile=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-mobile\u002F1.0\"\n  xmlns:image=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-image\u002F1.1\"\n  xmlns:video=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-video\u002F1.1\"\n\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Eposts\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Epost\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E\n      post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EisPrivate\n        \u003Cspan class=\"token operator\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enull\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\u002Fposts\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Epost\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eslug\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n&lt;\u002Furlset\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Ch2\u003ENext steps from here\u003C\u002Fh2\u003E\n\u003Cp\u003EThere’s some aspects of this project that wont change very often, like\nthe routes for the homepage, about page etc. I could hardcode these\ninto the XML directly.\u003C\u002Fp\u003E\n\u003Cp\u003EBut rather than doing that I can add the pages to an array variable so\nthat I can add any new pages that exist in the \u003Ccode\u003Esrc\u002Froutes\u003C\u002Fcode\u003E to it.\u003C\u002Fp\u003E\n\u003Cp\u003EI can add any new pages to the array rather than creating a new\n\u003Ccode\u003E&lt;url&gt;\u003C\u002Fcode\u003E element for each new page that’s added. Here’s an example of\nhow that may look:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E getPosts \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'$lib\u002Fget-posts'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E website \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'$lib\u002Finfo'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Eget\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E posts \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003EgetPosts\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E pages \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003Eabout\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003Enewsletter\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003Eprivacy-policy\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E body \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Esitemap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003Eposts\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E pages\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E headers \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Cache-Control'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'max-age=0, s-maxage=3600'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token string-property property\"\u003E'Content-Type'\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'application\u002Fxml'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    headers\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    body\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E \u003Cspan class=\"token function-variable function\"\u003Esitemap\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token parameter\"\u003Eposts\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  pages\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?\u003E\n&lt;urlset\n  xmlns=\"https:\u002F\u002Fwww.sitemaps.org\u002Fschemas\u002Fsitemap\u002F0.9\"\n  xmlns:news=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-news\u002F0.9\"\n  xmlns:xhtml=\"https:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\n  xmlns:mobile=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-mobile\u002F1.0\"\n  xmlns:image=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-image\u002F1.1\"\n  xmlns:video=\"https:\u002F\u002Fwww.google.com\u002Fschemas\u002Fsitemap-video\u002F1.1\"\n\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Epages\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token parameter\"\u003Epage\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Epage\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Eposts\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Emap\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token parameter\"\u003Epost\u003C\u002Fspan\u003E \u003Cspan class=\"token operator\"\u003E=\u003E\u003C\u002Fspan\u003E\n      post\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003EisPrivate\n        \u003Cspan class=\"token operator\"\u003E?\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Enull\u003C\u002Fspan\u003E\n        \u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token template-string\"\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n  &lt;url\u003E\n    &lt;loc\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Ewebsite\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\u002Fposts\u002F\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation\"\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E$&#123;\u003C\u002Fspan\u003Epost\u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003Eslug\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E&lt;\u002Floc\u003E\n    &lt;changefreq\u003Edaily&lt;\u002Fchangefreq\u003E\n    &lt;priority\u003E0.7&lt;\u002Fpriority\u003E\n  &lt;\u002Furl\u003E\n  \u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E.\u003C\u002Fspan\u003E\u003Cspan class=\"token function\"\u003Ejoin\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E''\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token interpolation-punctuation punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E\n&lt;\u002Furlset\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token template-punctuation string\"\u003E&#96;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Ch2\u003EConclusion\u003C\u002Fh2\u003E\n\u003Cp\u003EAlright, I’ve gone through and created a sitemap that contains all the\npages on the project.\u003C\u002Fp\u003E\n\u003Cp\u003EI hope this has given you enough information to get started with\nmaking your own sitemap on your SvelteKit projects.\u003C\u002Fp\u003E\n",meta:{date:"2021-08-21T00:00:00.000Z",title:"Make a Sitemap with Sveltekit",published:true,slug:void 0}},uses:{params:["slug","post"]}}],
					form: null
				},
				paths: {"base":"","assets":""},
				target: document.querySelector('[data-sveltekit-hydrate="kya03x"]').parentNode,
				version: "1670404777395"
			});
		</script>
	</div>
	</body>
</html>
