<!DOCTYPE html>
<html lang="en" data-theme="valentine">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/favicon.png" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/_layout-223af949.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/start-3d4e7262.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index-3e2bf343.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons-879e98ba.js">
		<link rel="modulepreload" href="../_app/immutable/components/pages/_layout.svelte-46304a0a.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/site-config-566325af.js">
		<link rel="modulepreload" href="../_app/immutable/modules/pages/_layout.js-7b9cbfbc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_layout-8d2a742b.js">
		<link rel="modulepreload" href="../_app/immutable/components/pages/posts/_slug_/_page.svelte-f199fb3f.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/head-bcd6e265.js"><title>Post | Using SvelteKit Endpoints in Netlify</title><!-- HEAD_svelte-enfip_START --><link rel="canonical"><meta name="description"><meta name="author" content="Eric"><meta itemprop="name" content="Post | Using SvelteKit Endpoints in Netlify"><meta itemprop="description"><meta itemprop="image"><meta property="og:url"><meta property="og:type" content="website"><meta property="og:title" content="Post | Using SvelteKit Endpoints in Netlify"><meta property="og:description"><meta property="og:image"><meta name="twitter:card" content="summary_large_image"><meta property="twitter:domain" content="https://ericleoo.github.io"><meta property="twitter:url"><meta name="twitter:title" content="Post | Using SvelteKit Endpoints in Netlify"><meta name="twitter:description"><meta name="twitter:image"><meta name="monetization" content="$ilp.uphold.com/bzPBWkMBzLmN"><!-- HEAD_svelte-enfip_END -->
  </head>
  <body>
    <div id="svelte">


<div class="bg-neutral shadow-lg text-neutral-content mb-16 top-0 z-10 navbar sticky"><div class="mx-2 px-2 navbar-start"><span class="font-bold text-lg">Eric's Blog</span></div>
  
  <div class="mx-2 px-2 hidden navbar-center lg:flex"><div class="flex items-stretch"><a sveltekit:prefetch href="/" class="rounded-btn btn btn-ghost btn-sm">Home</a></div></div></div>

<main class="mx-auto max-w-[90ch] px-4 relative sm:px-6 lg:px-8 break-normal">

<article class="flex flex-col flex-grow"><h1 class="font-bold mb-5 text-5xl">Using SvelteKit Endpoints in Netlify</h1>
  <div class=""><p>Tue Aug 31 2021</p>
    <article class="all-prose"><!-- HTML_TAG_START --><p>I’ve been using Netlify recently to make a project that uses
endpoints. Unlike with Vercel where you can use the endpoint to fetch
the data dynamically Netlify needs to statically generate the data.</p>
<p>There’s some SvelteKit <code>prerender</code> settings that need configuration
here’s what I set in the <code>svelte.config.js</code> file:</p>
<pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">import</span> adapter <span class="token keyword">from</span> <span class="token string">'@sveltejs/adapter-static'</span>
<span class="token keyword">import</span> preprocess <span class="token keyword">from</span> <span class="token string">'svelte-preprocess'</span>

<span class="token comment">/** @type &#123;import('@sveltejs/kit').Config&#125; */</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">kit</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// hydrate the &lt;div id="svelte"> element in src/app.html</span>
    <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'#svelte'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">adapter</span><span class="token operator">:</span> <span class="token function">adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">prerender</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token literal-property property">crawl</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">enabled</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token literal-property property">onError</span><span class="token operator">:</span> <span class="token string">'continue'</span><span class="token punctuation">,</span>
      <span class="token literal-property property">entries</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'*'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

  <span class="token literal-property property">preprocess</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">preprocess</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">postcss</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> config</code><!-- HTML_TAG_END --></pre>
<p>Also for the pages that use the endpoint I’ve added the following to
any page that uses an endpoint:</p>
<pre class="language-html"><!-- HTML_TAG_START --><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">const</span> prerender <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token comment">// rest of the code for the endpoint</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code><!-- HTML_TAG_END --></pre><!-- HTML_TAG_END --></article></div></article>
</main>


		<script type="module" data-sveltekit-hydrate="z2f3ke">
			import { start } from "../_app/immutable/start-3d4e7262.js";

			start({
				env: {},
				hydrate: {
					status: 200,
					error: null,
					node_ids: [0, 3],
					params: {slug:"using-skeltekit-endpoints-in-netlify"},
					route: {"id":"/posts/[slug]"},
					data: [null,{type:"data",data:{html:"\u003Cp\u003EI’ve been using Netlify recently to make a project that uses\nendpoints. Unlike with Vercel where you can use the endpoint to fetch\nthe data dynamically Netlify needs to statically generate the data.\u003C\u002Fp\u003E\n\u003Cp\u003EThere’s some SvelteKit \u003Ccode\u003Eprerender\u003C\u002Fcode\u003E settings that need configuration\nhere’s what I set in the \u003Ccode\u003Esvelte.config.js\u003C\u002Fcode\u003E file:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-js\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-js\"\u003E\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E adapter \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'@sveltejs\u002Fadapter-static'\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Eimport\u003C\u002Fspan\u003E preprocess \u003Cspan class=\"token keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'svelte-preprocess'\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token comment\"\u003E\u002F** @type &#123;import('@sveltejs\u002Fkit').Config&#125; *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E config \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token literal-property property\"\u003Ekit\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token comment\"\u003E\u002F\u002F hydrate the &lt;div id=\"svelte\"\u003E element in src\u002Fapp.html\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token literal-property property\"\u003Etarget\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'#svelte'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token literal-property property\"\u003Eadapter\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token function\"\u003Eadapter\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token literal-property property\"\u003Eprerender\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token literal-property property\"\u003Ecrawl\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token literal-property property\"\u003Eenabled\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token literal-property property\"\u003EonError\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token string\"\u003E'continue'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token literal-property property\"\u003Eentries\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\u003Cspan class=\"token string\"\u003E'*'\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\n  \u003Cspan class=\"token literal-property property\"\u003Epreprocess\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token punctuation\"\u003E[\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token function\"\u003Epreprocess\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E(\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E&#123;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"token literal-property property\"\u003Epostcss\u003C\u002Fspan\u003E\u003Cspan class=\"token operator\"\u003E:\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n    \u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E)\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token punctuation\"\u003E]\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E,\u003C\u002Fspan\u003E\n\u003Cspan class=\"token punctuation\"\u003E&#125;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Edefault\u003C\u002Fspan\u003E config\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003EAlso for the pages that use the endpoint I’ve added the following to\nany page that uses an endpoint:\u003C\u002Fp\u003E\n\u003Cpre class=\"language-html\"\u003E\u003C!-- HTML_TAG_START --\u003E\u003Ccode class=\"language-html\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\"token attr-name\"\u003Econtext\u003C\u002Fspan\u003E\u003Cspan class=\"token attr-value\"\u003E\u003Cspan class=\"token punctuation attr-equals\"\u003E=\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003Emodule\u003Cspan class=\"token punctuation\"\u003E\"\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token script\"\u003E\u003Cspan class=\"token language-javascript\"\u003E\n  \u003Cspan class=\"token keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"token keyword\"\u003Econst\u003C\u002Fspan\u003E prerender \u003Cspan class=\"token operator\"\u003E=\u003C\u002Fspan\u003E \u003Cspan class=\"token boolean\"\u003Etrue\u003C\u002Fspan\u003E\n  \u003Cspan class=\"token comment\"\u003E\u002F\u002F rest of the code for the endpoint\u003C\u002Fspan\u003E\n\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token tag\"\u003E\u003Cspan class=\"token punctuation\"\u003E&lt;\u002F\u003C\u002Fspan\u003Escript\u003C\u002Fspan\u003E\u003Cspan class=\"token punctuation\"\u003E\u003E\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C!-- HTML_TAG_END --\u003E\u003C\u002Fpre\u003E",meta:{date:"2021-08-31T00:00:00.000Z",title:"Using SvelteKit Endpoints in Netlify",published:true,slug:void 0}},uses:{params:["slug","post"]}}],
					form: null
				},
				paths: {"base":"","assets":""},
				target: document.querySelector('[data-sveltekit-hydrate="z2f3ke"]').parentNode,
				version: "1670408161021"
			});
		</script>
	</div>
  </body>
</html>
~
